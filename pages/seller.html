<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sell Products - P2P Marketplace</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-store"></i>
                <span>P2P Marketplace</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../dashboard.html" class="nav-link">Dashboard</a>
                <a href="browse.html" class="nav-link nav-buyer-only">Browse</a>
                <a href="seller.html" class="nav-link nav-seller-only active">Sell</a>
                <a href="analytics.html" class="nav-link nav-seller-only">Analytics</a>
                <a href="my-listings.html" class="nav-link nav-seller-only">My Listings</a>
                <a href="matching.html" class="nav-link nav-buyer-only">Smart Match</a>
                <a href="history.html" class="nav-link nav-buyer-only">History</a>
                <a href="support.html" class="nav-link">Support</a>
                <a href="admin.html" class="nav-link nav-admin-only">Admin</a>
                <div class="nav-user" id="nav-user">
                    <span id="user-email"></span>
                    <button class="btn btn-outline" id="logout-btn">Logout</button>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <main class="seller-container">
        <div class="container">
            <div class="seller-header">
                <h1>Sell Your Products</h1>
                <p>List your items and reach potential buyers through our smart matching system</p>
            </div>

            <div class="seller-content">
                <!-- Add Product Form -->
                <div class="add-product-section">
                    <div class="section-header">
                        <h2>Add New Product</h2>
                        <p>Fill out the form below to list your product</p>
                    </div>

                    <form id="product-form" class="product-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="title">Product Title *</label>
                                <input type="text" id="title" name="title" required maxlength="100">
                                <small>Be descriptive and specific</small>
                            </div>

                            <div class="form-group">
                                <label for="category">Category *</label>
                                <select id="category" name="category" required>
                                    <option value="">Select Category</option>
                                    <option value="electronics">Electronics</option>
                                    <option value="clothing">Clothing</option>
                                    <option value="home">Home & Garden</option>
                                    <option value="books">Books</option>
                                    <option value="sports">Sports</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="price">Price (â‚¹) *</label>
                                <input type="number" id="price" name="price" required min="0" step="0.01">
                                <small>Enter price in INR</small>
                            </div>

                            <div class="form-group">
                                <label for="condition">Condition *</label>
                                <select id="condition" name="condition" required>
                                    <option value="">Select Condition</option>
                                    <option value="new">New</option>
                                    <option value="like-new">Like New</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                    <option value="poor">Poor</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="description">Description *</label>
                            <textarea id="description" name="description" required rows="4" maxlength="1000"></textarea>
                            <small>Describe your product in detail (max 1000 characters)</small>
                        </div>

                        <div class="form-group">
                            <label for="images">Product Images</label>
                            <div class="image-upload-container">
                                <input type="file" id="images" name="images" multiple accept="image/*" class="image-input">
                                <div class="upload-area" id="upload-area">
                                    <div class="upload-content">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Click to upload images or drag and drop</p>
                                        <small>Upload up to 5 images (JPG, PNG, max 5MB each)</small>
                                    </div>
                                </div>
                                <div class="image-preview-container" id="image-preview" style="display: none;">
                                    <div class="preview-header">
                                        <span>Selected Images:</span>
                                        <button type="button" class="btn-clear-images" id="clear-images">
                                            <i class="fas fa-times"></i> Clear All
                                        </button>
                                    </div>
                                    <div class="image-previews" id="image-previews"></div>
                                </div>
                            </div>
                            <small>Images help buyers see your product clearly. First image will be the main photo.</small>
                        </div>

                        <div class="form-group">
                            <label for="keywords">Keywords</label>
                            <input type="text" id="keywords" name="keywords"
                                placeholder="e.g., vintage, handmade, organic">
                            <small>Separate keywords with commas to help buyers find your product</small>
                        </div>

                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" name="location" placeholder="City, State">
                            <small>Optional: Help buyers find local products</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-large" id="submit-btn">
                                <span class="btn-text">List Product</span>
                                <span class="btn-loading" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i> Listing...
                                </span>
                            </button>
                            <button type="reset" class="btn btn-outline btn-large">Clear Form</button>
                        </div>
                    </form>
                </div>

                <!-- My Listings Section -->
                <div class="my-listings-section">
                    <div class="section-header">
                        <h2>My Listings</h2>
                        <p>Manage your existing product listings</p>
                        <button onclick="addSampleData()" class="btn btn-outline btn-small" id="sample-data-btn" style="margin-top: 10px;">
                            <i class="fas fa-plus"></i> Add Sample Data for Testing
                        </button>
                    </div>

                    <div id="listings-container" class="listings-container">
                        <div id="listings-loading" class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading your listings...</p>
                        </div>
                        <div id="listings-grid" class="listings-grid">
                            <!-- Listings will be loaded here -->
                        </div>
                        <div id="no-listings" class="no-listings" style="display: none;">
                            <i class="fas fa-box-open"></i>
                            <h3>No listings yet</h3>
                            <p>Create your first product listing above</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit Product Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>Edit Product</h2>
            </div>
            <div id="edit-form-container">
                <!-- Edit form will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Delete Product</h2>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this product listing?</p>
                <p class="warning-text">This action cannot be undone.</p>
            </div>
            <div class="modal-actions">
                <button id="confirm-delete" class="btn btn-primary">Delete</button>
                <button id="cancel-delete" class="btn btn-outline">Cancel</button>
            </div>
        </div>
    </div>

    <script type="module" src="../js/firebase.js"></script>
    <script type="module" src="../js/app.js"></script>
    <script type="module" src="../js/seller.js"></script>
    <script src="../js/theme.js"></script>
</body>

</html>
